Virtual Machine
===============

This section describes how to get your virtual machine environment up and running on
your Windows or Mac OS X laptop or Desktop.

Before proceeding ensure that you have met the prerequisites listed [here](prerequisites.md)

### Downloading the Contents

The virtual machine contents are _cloned_ or downloaded by using Git to download the needed files
from a GitHub repository.

#### Cloning

Use the git command line tool in a bash shell to clone the contents of the virtual machine
from the GitHub Repository

```bash
$ git clone https://github.com/boundary/tsi-lab
```

### Creating and Starting the Virtual Machine

Interaction with the APIs requires the following details:

- E-mail - The e-mail associated with your TrueSight Intelligence account.
- API Token - The token generated by the system for authenticating a call to the API
- API Host - The host which the API endpoint resides

_NOTE_: To create the virtual machine you need to use a bash shell, or Windows Command prompt.

1. Change to directory of the extracted or cloned the lab contents. example:

     ```
     $ cd tsi-lab
     ```

2. From the bash shell (Terminal in OSX) or (GitBash in Windows). Issue the following command to
create the virtual machine:

     ```
     $ ./vm-create
     ```

### Login into the Virtual Machine

After your virtual machine is created login to your virtual machine by using the command below.

```bash
$ ./vm-login
```

### Change directory to your labs directory

After you login to your virtual machine change directory to your labs directory by using the command below.

```bash
$ cd labs
```

### Validating API credentials in your Virtual Machine

Run the following command immediately after the command above to verify the settings took.

```bash
$ creds

Sample Output:
TSP_EMAIL=rknaub@gmail.com
TSP_API_HOST=api.truesight-staging.bmc.com
TSP_API_TOKEN=fbecec7a-b0f7-40c4-a4cb-ec09b3b6b7cb
```

### Stopping the Virtual Machine

Run the following command before shutting down you laptop/desktop.

```bash
$ ./vm-stop
```

### Starting the Virtual Machine

Run the following command to restart your virtual machine.

```bash
$ ./vm-stop
```

### Restarting the Virtual Machine

Run the following command to restart your virtual machine.

```bash
$ ./vm-restart
```

### Destroying the Virtual Machine

```bash
$ ./vm-remove
```

Click Next (upper right) when completed.
